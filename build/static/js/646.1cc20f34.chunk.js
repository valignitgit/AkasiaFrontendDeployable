"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[646],{1134:function(e,n,a){var r=a(3685),s=a(7296),t=a(3712);n.Z=function(e){var n=e.open,a=e.type,c=e.message,i=e.handleClose;return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(r.Z,{anchorOrigin:{vertical:"top",horizontal:"center"},open:n,autoHideDuration:3e3,onClose:i,children:(0,t.jsx)(s.Z,{severity:a,sx:{width:"100%"},children:c})})})}},5646:function(e,n,a){a.r(n),a.d(n,{default:function(){return k}});var r=a(1413),s=a(4165),t=a(5861),c=a(9439),i=a(8391),l=a(774),u=a(5536),d=a(2872),o=a(9856),h=a(8743),p=a(2600),x=a(4383),m=a(1884),f=a(1154),j=a(9492),Z=a(1134),g=a(5365),v=a(2547),_=a(5208),y=a(6999),C=a(461),N=a(3712),b=function(e){var n=e.currency_id,a=e.currency_name,r=e.handleDelete;return(0,N.jsx)(N.Fragment,{children:(0,N.jsx)(N.Fragment,{children:(0,N.jsx)(p.ZP,{item:!0,xs:12,sm:6,md:6,lg:4,xl:3,children:(0,N.jsxs)(_.Z,{className:"Card",children:[(0,N.jsxs)(y.Z,{className:"card__contentContainer",children:[(0,N.jsxs)(C.Z,{className:"Card__containWrapper",children:[(0,N.jsx)("span",{className:"Card__itemKey",children:"Currency Id:"}),(0,N.jsx)("span",{className:"Card__itemValue",children:n})]}),(0,N.jsx)("br",{}),(0,N.jsxs)(C.Z,{className:"Card__containWrapper",children:[(0,N.jsx)("span",{className:"Card__itemKey",children:"Currency Name:"}),(0,N.jsx)("span",{className:"Card__itemValue",children:a||"Not Available"})]}),(0,N.jsx)("br",{})]}),(0,N.jsxs)("div",{className:"Card__Actions",children:[(0,N.jsx)(u.rU,{to:"/currency/".concat(n),children:(0,N.jsx)(m.Z,{className:"Card__btn",shape:"square",children:"View"})}),(0,N.jsx)(u.rU,{to:"/currency/update/".concat(n),children:(0,N.jsx)(m.Z,{className:"Card__btn",shape:"square",children:"Edit"})}),(0,N.jsx)(m.Z,{shape:"square",className:"Card__btn",onClick:function(){return r(n,a)},variant:"filled",children:"Delete"})]})]})})})})},k=function(){var e=(0,l.I0)(),n=(0,l.v9)((function(e){var n;return null===(n=e.currency)||void 0===n?void 0:n.data})),a=(0,i.useState)(!1),_=(0,c.Z)(a,2),y=_[0],C=_[1],k=(0,i.useState)({id:"",name:""}),w=(0,c.Z)(k,2),D=w[0],A=w[1],S=(0,i.useState)(n||[]),F=(0,c.Z)(S,2),q=F[0],M=F[1],U=(0,i.useState)(1),E=(0,c.Z)(U,2),I=E[0],L=E[1],V=(0,i.useState)(12),W=(0,c.Z)(V,2),K=W[0],P=W[1],R=(0,i.useState)({open:!1,type:"",message:""}),z=(0,c.Z)(R,2),B=z[0],H=z[1],O=function(e,n){H({open:!0,type:e,message:n})},G=function(){H({open:!1,type:"",message:""})},J=function(){C(!1)};(0,i.useEffect)((function(){e((0,g.lv)()),e((0,g.UW)())}),[e]),(0,i.useEffect)((function(){n&&M(n)}),[n]);var Q=function(e,n){C(!0),A({id:e,name:n})},T=function(){var n=(0,t.Z)((0,s.Z)().mark((function n(a){return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!a){n.next=3;break}return n.next=3,e((0,g.pD)(a)).unwrap().then((function(n){console.log(n),null===n.data&&200===n.status.status&&"Deleted Successfully."===n.status.message?(console.log("res",n.status),C(!1),O(v.MR,"Deleted Successfully!"),e((0,g.lv)())):null===n.data.data&&400===n.data.status.status&&"could not execute statement"===n.data.status.message&&(C(!1),O(v.pn,"Currency is already referred!"),e((0,g.lv)()),console.log("not deleted"))}));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),X=function(e,n){L(n)},Y=function(e){P(parseInt(e.target.value,10)),L(1)},$=I*K,ee=$-K,ne=Array.isArray(q)?q.slice(ee,$):[];return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(u.rU,{to:"/currency/add",children:(0,N.jsx)(m.Z,{variant:"filled",className:"Listing__addButton",children:"Add Currency"})}),Array.isArray(q)?(0,N.jsx)("div",{className:"Listing__container",children:(0,N.jsx)(p.ZP,{container:!0,spacing:2,children:ne.map((function(e){return(0,N.jsx)(b,(0,r.Z)((0,r.Z)({},e),{},{handleDelete:Q}),e.currency_id)}))})}):(0,N.jsx)(j.Z,{}),q.length>0&&(0,N.jsxs)("div",{className:"Listing__paginationContainer",children:[(0,N.jsx)(x.Z,{color:"primary",count:Math.ceil(q.length/K),page:I,onChange:X}),(0,N.jsx)(d.Z,{children:(0,N.jsxs)(o.Z,{value:K,onChange:Y,children:[(0,N.jsx)(h.Z,{value:4,children:"4 per page"}),(0,N.jsx)(h.Z,{value:8,children:"8 per page"}),(0,N.jsx)(h.Z,{value:12,children:"12 per page"})]})})]}),(0,N.jsx)(N.Fragment,{children:(0,N.jsx)(f.Z,{open:y,handleClose:J,title:"Delete",content:(0,N.jsxs)("div",{children:["Are sure you want to delete ",D.name,"? "]}),actions:(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(m.Z,{shape:"square",onClick:J,children:"Cancel"}),(0,N.jsx)(m.Z,{variant:"filled",shape:"square",onClick:function(){return T(D.id)},children:"Delete"})]})})}),(0,N.jsx)(Z.Z,{open:B.open,type:B.type,message:B.message,handleClose:G})]})}},2547:function(e,n,a){a.d(n,{MR:function(){return s},cM:function(){return t},pn:function(){return r}});var r="error",s="success",t="warning"}}]);