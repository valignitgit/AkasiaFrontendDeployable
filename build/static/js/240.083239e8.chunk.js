"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[240],{1134:function(e,n,a){var t=a(3685),s=a(7296),r=a(3712);n.Z=function(e){var n=e.open,a=e.type,i=e.message,c=e.handleClose;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(t.Z,{anchorOrigin:{vertical:"top",horizontal:"center"},open:n,autoHideDuration:3e3,onClose:c,children:(0,r.jsx)(s.Z,{severity:a,sx:{width:"100%"},children:i})})})}},3240:function(e,n,a){a.r(n),a.d(n,{default:function(){return w}});var t=a(1413),s=a(4165),r=a(5861),i=a(9439),c=a(8391),l=a(774),d=a(5536),o=a(2600),u=a(4383),h=a(2872),p=a(9856),m=a(8743),x=a(1884),f=a(1154),j=a(9492),Z=a(1134),v=a(4302),g=a(2547),_=a(5208),C=a(6999),k=a(461),y=a(5590),N=a(3712),b=function(e){var n=e.bank_id,a=e.bank_name,t=e.handleDelete;return(0,N.jsx)(N.Fragment,{children:(0,N.jsx)(N.Fragment,{children:(0,N.jsx)(o.ZP,{item:!0,xs:12,sm:6,md:6,lg:4,xl:3,children:(0,N.jsxs)(_.Z,{className:"Card",children:[(0,N.jsxs)(C.Z,{className:"card__contentContainer",children:[(0,N.jsxs)(k.Z,{className:"Card__containWrapper",children:[(0,N.jsx)(y.Z,{component:"h4",variant:"p",className:"Card__itemKey",children:"Bank Id:"}),(0,N.jsx)(y.Z,{component:"p",variant:"p",className:"Card__itemValue",children:n})]}),(0,N.jsx)("br",{}),(0,N.jsxs)(k.Z,{className:"Card__containWrapper",children:[(0,N.jsx)(y.Z,{component:"h4",variant:"p",className:"Card__itemKey",children:"Bank Name:"}),(0,N.jsx)(y.Z,{component:"p",variant:"p",className:"Card__itemValue",children:a})]})]}),(0,N.jsxs)("div",{className:"Card__Actions",children:[(0,N.jsx)(d.rU,{to:"/bank/".concat(n),children:(0,N.jsx)(x.Z,{className:"Card__btn",shape:"square",children:"View"})}),(0,N.jsx)(d.rU,{to:"/bank/update/".concat(n),children:(0,N.jsx)(x.Z,{className:"Card__btn",shape:"square",children:"Edit"})}),(0,N.jsx)(x.Z,{className:"Card__btn",onClick:function(){return t(n,a)},shape:"square",variant:"filled",children:"Delete"})]})]})})})})},w=function(){var e=(0,l.I0)(),n=(0,l.v9)((function(e){var n;return null===(n=e.bank)||void 0===n?void 0:n.data})),a=(0,c.useState)(n||[]),_=(0,i.Z)(a,2),C=_[0],k=_[1],y=(0,c.useState)(!1),w=(0,i.Z)(y,2),D=w[0],S=w[1],A=(0,c.useState)({id:"",name:""}),F=(0,i.Z)(A,2),q=F[0],B=F[1],I=(0,c.useState)({open:!1,type:"",message:""}),M=(0,i.Z)(I,2),U=M[0],E=M[1],L=function(e,n){E({open:!0,type:e,message:n})},V=function(){E({open:!1,type:"",message:""})},W=(0,c.useState)(1),K=(0,i.Z)(W,2),P=K[0],R=K[1],z=(0,c.useState)(12),H=(0,i.Z)(z,2),O=H[0],G=H[1],J=function(){S(!1)};(0,c.useEffect)((function(){e((0,v.sr)()),e((0,v.UW)())}),[e]),(0,c.useEffect)((function(){n&&k(n)}),[n]);var Q=function(e,n){S(!0),B({id:e,name:n})},T=function(){var n=(0,r.Z)((0,s.Z)().mark((function n(a){return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!a){n.next=3;break}return n.next=3,e((0,v.I2)(a)).unwrap().then((function(n){console.log(n),null===n.data&&200===n.status.status&&"Deleted Successfully"===n.status.message?(S(!1),L(g.MR,"Deleted Successfully!"),e((0,v.sr)())):null===n.data.data&&400===n.data.status.status&&"could not execute statement"===n.data.status.message&&(S(!1),L(g.pn,"Bank is already referred!"),e((0,v.sr)()))}));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),X=function(e,n){R(n)},Y=function(e){G(parseInt(e.target.value,10)),R(1)},$=P*O,ee=$-O,ne=Array.isArray(C)?C.slice(ee,$):[];return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(d.rU,{to:"/bank/add",children:(0,N.jsx)(x.Z,{variant:"filled",className:"Listing__addButton",children:"Add Bank"})}),Array.isArray(C)?(0,N.jsx)("div",{className:"Listing__container",children:(0,N.jsx)(o.ZP,{container:!0,spacing:2,children:null===ne||void 0===ne?void 0:ne.map((function(e){return(0,N.jsx)(b,(0,t.Z)((0,t.Z)({},e),{},{handleDelete:Q}),e.bank_id)}))})}):(0,N.jsx)(j.Z,{}),C.length>0&&(0,N.jsxs)("div",{className:"Listing__paginationContainer",children:[(0,N.jsx)(u.Z,{color:"primary",count:Math.ceil(C.length/O),page:P,onChange:X}),(0,N.jsx)(h.Z,{children:(0,N.jsxs)(p.Z,{value:O,onChange:Y,children:[(0,N.jsx)(m.Z,{value:4,children:"4 per page"}),(0,N.jsx)(m.Z,{value:8,children:"8 per page"}),(0,N.jsx)(m.Z,{value:12,children:"12 per page"})]})})]}),(0,N.jsx)(N.Fragment,{children:(0,N.jsx)(f.Z,{open:D,handleClose:J,title:"Delete",content:(0,N.jsxs)("div",{children:["Are sure you want to delete ",q.name,"? "]}),actions:(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(x.Z,{shape:"square",onClick:J,children:"Cancel"}),(0,N.jsx)(x.Z,{variant:"filled",shape:"square",onClick:function(){return T(q.id)},children:"Delete"})]})})}),(0,N.jsx)(Z.Z,{open:U.open,type:U.type,message:U.message,handleClose:V})]})}},2547:function(e,n,a){a.d(n,{MR:function(){return s},cM:function(){return r},pn:function(){return t}});var t="error",s="success",r="warning"}}]);