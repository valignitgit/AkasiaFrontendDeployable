"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[633],{1134:function(e,n,t){var r=t(3685),a=t(7296),s=t(3712);n.Z=function(e){var n=e.open,t=e.type,i=e.message,l=e.handleClose;return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(r.Z,{anchorOrigin:{vertical:"top",horizontal:"center"},open:n,autoHideDuration:3e3,onClose:l,children:(0,s.jsx)(a.Z,{severity:t,sx:{width:"100%"},children:i})})})}},3633:function(e,n,t){t.r(n),t.d(n,{default:function(){return M}});var r=t(1413),a=t(3433),s=t(4165),i=t(5861),l=t(9439),o=t(8391),c=t(774),d=t(5536),u=t(6314),h=t(6992),f=t(461),p=t(2872),x=t(9856),m=t(8743),v=t(2600),j=t(4383),_=t(1884),Z=t(1154),g=t(9492),C=t(1134),y=t(7236),N=t(2547),k=t(5208),L=t(6999),w=t(3712),F=function(e){var n=e.portfolio_name,t=e.risk_level,r=e.handleDelete,a=e.portfolio_id;return(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(v.ZP,{item:!0,xs:12,sm:6,md:6,lg:4,xl:3,children:(0,w.jsxs)(k.Z,{className:"Card",children:[(0,w.jsxs)(L.Z,{className:"card__contentContainer",children:[(0,w.jsxs)(f.Z,{className:"Card__containWrapper",children:[(0,w.jsx)("span",{className:"Card__itemKey",children:"Portfolio Name:"}),(0,w.jsx)("span",{className:"Card__itemValue",children:n})]}),(0,w.jsx)("br",{}),(0,w.jsxs)(f.Z,{className:"Card__containWrapper",children:[(0,w.jsx)("span",{className:"Card__itemKey",children:"Risk Level:"}),(0,w.jsx)("span",{className:"Card__itemValue",children:t})]})]}),(0,w.jsxs)("div",{className:"Card__Actions",children:[(0,w.jsx)(d.rU,{to:"/portfolio/".concat(a),children:(0,w.jsx)(_.Z,{className:"Card__btn",shape:"square",children:"View"})}),(0,w.jsx)(d.rU,{to:"/portfolio/update/".concat(a),children:(0,w.jsx)(_.Z,{className:"Card__btn",shape:"square",children:"Edit"})}),(0,w.jsx)(_.Z,{shape:"square",className:"Card__btn",onClick:function(){return r(a,n)},variant:"filled",children:"Delete"})]})]})})})})},S="styles_portfolioListing__container__ILr0S",A="styles_porfolioListing__buttonsContainer__L-UIT",b="styles_portfolioListing__filterContainer__Fo111",D="styles_portfolioListing__filterSelectInput__py4y5",H="styles_portfolioCard__paginationContainer__wLOj0",M=function(){var e=(0,c.I0)(),n=(0,c.v9)((function(e){var n;return null===(n=e.portfolio)||void 0===n?void 0:n.data})),t=(0,o.useState)(!1),k=(0,l.Z)(t,2),L=k[0],M=k[1],P=(0,o.useState)({id:"",name:""}),z=(0,l.Z)(P,2),V=z[0],q=z[1],R=(0,o.useState)(""),U=(0,l.Z)(R,2),I=U[0],O=U[1],E=(0,o.useState)(n||[]),B=(0,l.Z)(E,2),W=B[0],K=B[1],T=(0,o.useState)(1),G=(0,l.Z)(T,2),J=G[0],Q=G[1],X=(0,o.useState)(12),Y=(0,l.Z)(X,2),$=Y[0],ee=Y[1],ne=(0,o.useState)({open:!1,type:"",message:""}),te=(0,l.Z)(ne,2),re=te[0],ae=te[1],se=function(e,n){ae({open:!0,type:e,message:n})},ie=function(){ae({open:!1,type:"",message:""})},le=function(){M(!1)};(0,o.useEffect)((function(){e((0,y.dA)()),e((0,y.UW)())}),[e]),(0,o.useEffect)((function(){n&&K(n)}),[n]);var oe=function(e,n){M(!0),q({id:e,name:n})},ce=function(){var n=(0,i.Z)((0,s.Z)().mark((function n(t){return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t){n.next=3;break}return n.next=3,e((0,y.BT)(t)).unwrap().then((function(n){null===n.data&&200===n.status.status&&"Deleted Successfully."===n.status.message?(M(!1),se(N.MR,"Deleted Successfully!"),e((0,y.dA)())):null===n.data.data&&400===n.data.status.status&&"could not execute statement"===n.data.status.message&&(M(!1),se(N.pn,"Porfolio is already referred!"),e((0,y.dA)()))}));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),de=function(e){O(e.target.value),"Portfolio Name"===e.target.value?ue():"Risk Level"===e.target.value&&he()},ue=function(){var e=(0,a.Z)(n);e.sort((function(e,n){return e.portfolio_name<n.portfolio_name?-1:e.portfolio_name>n.portfolio_name?1:0})),K(e)},he=function(){var e=["low","medium","high","very-high"],t=(0,a.Z)(n);t.sort((function(n,t){var r=e.indexOf(n.risk_level.toLowerCase()),a=e.indexOf(t.risk_level.toLowerCase());return r<a?-1:r>a?1:0})),K(t)},fe=function(){K(n),O("")},pe=function(e,n){Q(n)},xe=function(e){ee(parseInt(e.target.value,10)),Q(1)},me=J*$,ve=me-$,je=Array.isArray(W)?W.slice(ve,me):[];return(0,w.jsxs)(w.Fragment,{children:[W.length>0&&(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)(f.Z,{className:A,children:[(0,w.jsx)(d.rU,{to:"/portfolio/add",children:(0,w.jsx)(_.Z,{variant:"filled",children:"Add Portfolio"})}),(0,w.jsxs)(f.Z,{className:b,children:[(0,w.jsx)(_.Z,{variant:"filled",icon:{position:"left",component:I?(0,w.jsx)(h.Z,{}):(0,w.jsx)(u.Z,{})},onClick:fe,shape:"square",children:I?"Unfilter":"Filter"}),(0,w.jsx)(p.Z,{className:D,children:(0,w.jsxs)(x.Z,{value:I,onChange:de,name:"Filter",displayEmpty:!0,children:[(0,w.jsx)(m.Z,{value:"",children:(0,w.jsx)("em",{children:"Select"})}),(0,w.jsx)(m.Z,{value:"Portfolio Name",children:"By Portfolio Name"}),(0,w.jsx)(m.Z,{value:"Risk Level",children:"By Risk Level"})]})})]})]})}),Array.isArray(W)?(0,w.jsx)("div",{className:S,children:(0,w.jsx)(v.ZP,{container:!0,spacing:2,children:je.map((function(e){return(0,w.jsx)(F,(0,r.Z)((0,r.Z)({},e),{},{handleDelete:oe}),e.portfolio_id)}))})}):(0,w.jsx)(g.Z,{}),W.length>0&&(0,w.jsxs)("div",{className:H,children:[(0,w.jsx)(j.Z,{color:"primary",count:Math.ceil(W.length/$),page:J,onChange:pe}),(0,w.jsx)(p.Z,{children:(0,w.jsxs)(x.Z,{value:$,onChange:xe,children:[(0,w.jsx)(m.Z,{value:4,children:"4 per page"}),(0,w.jsx)(m.Z,{value:8,children:"8 per page"}),(0,w.jsx)(m.Z,{value:12,children:"12 per page"})]})})]}),(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(Z.Z,{open:L,handleClose:le,title:"Delete",content:(0,w.jsxs)("div",{children:["Are sure you want to delete ",V.name,"? "]}),actions:(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(_.Z,{shape:"square",onClick:le,children:"Cancel"}),(0,w.jsx)(_.Z,{variant:"filled",shape:"square",onClick:function(){return ce(V.id)},children:"Delete"})]})})}),(0,w.jsx)(C.Z,{open:re.open,type:re.type,message:re.message,handleClose:ie})]})}},2547:function(e,n,t){t.d(n,{MR:function(){return a},cM:function(){return s},pn:function(){return r}});var r="error",a="success",s="warning"},6314:function(e,n,t){var r=t(4836);n.Z=void 0;var a=r(t(5145)),s=t(3712),i=(0,a.default)((0,s.jsx)("path",{d:"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"}),"FilterList");n.Z=i},6992:function(e,n,t){var r=t(4836);n.Z=void 0;var a=r(t(5145)),s=t(3712),i=(0,a.default)((0,s.jsx)("path",{d:"M10.83 8H21V6H8.83l2 2zm5 5H18v-2h-4.17l2 2zM14 16.83V18h-4v-2h3.17l-3-3H6v-2h2.17l-3-3H3V6h.17L1.39 4.22 2.8 2.81l18.38 18.38-1.41 1.41L14 16.83z"}),"FilterListOff");n.Z=i}}]);