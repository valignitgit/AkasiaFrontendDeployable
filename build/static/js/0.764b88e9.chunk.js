"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[0],{1134:function(e,n,a){var r=a(3685),s=a(7296),t=a(3712);n.Z=function(e){var n=e.open,a=e.type,i=e.message,c=e.handleClose;return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(r.Z,{anchorOrigin:{vertical:"top",horizontal:"center"},open:n,autoHideDuration:3e3,onClose:c,children:(0,t.jsx)(s.Z,{severity:a,sx:{width:"100%"},children:i})})})}},4e3:function(e,n,a){a.r(n),a.d(n,{default:function(){return b}});var r=a(1413),s=a(4165),t=a(5861),i=a(9439),c=a(8391),l=a(774),d=a(5536),o=a(2872),u=a(9856),h=a(8743),p=a(2600),x=a(4383),m=a(1884),f=a(1154),j=a(9492),Z=a(1134),g=a(6096),_=a(2547),v=a(5208),C=a(6999),k=a(461),y=a(3712),N=function(e){var n=e.broker_id,a=e.broker_name,r=e.handleDelete;return(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(p.ZP,{item:!0,xs:12,sm:6,md:6,lg:4,xl:3,children:(0,y.jsxs)(v.Z,{className:"Card",children:[(0,y.jsxs)(C.Z,{className:"card__contentContainer",children:[(0,y.jsxs)(k.Z,{className:"Card__containWrapper",children:[(0,y.jsx)("span",{className:"Card__itemKey",children:"Broker Id:"}),(0,y.jsx)("span",{className:"Card__itemValue",children:n})]}),(0,y.jsx)("br",{}),(0,y.jsxs)(k.Z,{className:"Card__containWrapper",children:[(0,y.jsx)("span",{className:"Card__itemKey",children:"Broker Name:"}),(0,y.jsx)("span",{className:"Card__itemValue",children:a||"Not Available"})]})]}),(0,y.jsxs)("div",{className:"Card__Actions",children:[(0,y.jsx)(d.rU,{to:"/broker/".concat(n),children:(0,y.jsx)(m.Z,{className:"Card__btn",shape:"square",children:"View"})}),(0,y.jsx)(d.rU,{to:"/broker/update/".concat(n),children:(0,y.jsx)(m.Z,{className:"Card__btn",shape:"square",children:"Edit"})}),(0,y.jsx)(m.Z,{shape:"square",className:"Card__btn",onClick:function(){return r(n,a)},variant:"filled",children:"Delete"})]})]})})})})},b=function(){var e=(0,l.I0)(),n=(0,l.v9)((function(e){var n;return null===(n=e.broker)||void 0===n?void 0:n.data})),a=(0,c.useState)(!1),v=(0,i.Z)(a,2),C=v[0],k=v[1],b=(0,c.useState)({id:"",name:""}),w=(0,i.Z)(b,2),A=w[0],D=w[1],S=(0,c.useState)(n||[]),F=(0,i.Z)(S,2),L=F[0],q=F[1],B=(0,c.useState)(1),M=(0,i.Z)(B,2),U=M[0],E=M[1],I=(0,c.useState)(12),K=(0,i.Z)(I,2),V=K[0],W=K[1],P=(0,c.useState)({open:!1,type:"",message:""}),R=(0,i.Z)(P,2),z=R[0],H=R[1],O=function(e,n){H({open:!0,type:e,message:n})},G=function(){H({open:!1,type:"",message:""})},J=function(){k(!1)};(0,c.useEffect)((function(){e((0,g.Lx)()),e((0,g.UW)())}),[e]),(0,c.useEffect)((function(){n&&q(n)}),[n]);var Q=function(e,n){k(!0),D({id:e,name:n})},T=function(){var n=(0,t.Z)((0,s.Z)().mark((function n(a){return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!a){n.next=3;break}return n.next=3,e((0,g.vK)(a)).unwrap().then((function(n){null===n.data&&200===n.status.status&&"Deleted Successfully"===n.status.message?(k(!1),O(_.MR,"Deleted Successfully!"),e((0,g.Lx)())):null===n.data.data&&400===n.data.status.status&&"could not execute statement"===n.data.status.message&&(k(!1),O(_.pn,"Broker is already referred!"),e((0,g.Lx)()))}));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),X=function(e,n){E(n)},Y=function(e){W(parseInt(e.target.value,10)),E(1)},$=U*V,ee=$-V,ne=Array.isArray(L)?L.slice(ee,$):[];return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(d.rU,{to:"/broker/add",children:(0,y.jsx)(m.Z,{variant:"filled",className:"Listing__addButton",children:"Add Broker"})}),Array.isArray(L)?(0,y.jsx)("div",{className:"Listing__container",children:(0,y.jsx)(p.ZP,{container:!0,spacing:2,children:ne.map((function(e){return(0,y.jsx)(N,(0,r.Z)((0,r.Z)({},e),{},{handleDelete:Q}),e.broker_id)}))})}):(0,y.jsx)(j.Z,{}),L.length>0&&(0,y.jsxs)("div",{className:"Listing__paginationContainer",children:[(0,y.jsx)(x.Z,{color:"primary",count:Math.ceil(L.length/V),page:U,onChange:X}),(0,y.jsx)(o.Z,{children:(0,y.jsxs)(u.Z,{value:V,onChange:Y,children:[(0,y.jsx)(h.Z,{value:4,children:"4 per page"}),(0,y.jsx)(h.Z,{value:8,children:"8 per page"}),(0,y.jsx)(h.Z,{value:12,children:"12 per page"})]})})]}),(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(f.Z,{open:C,handleClose:J,title:"Delete",content:(0,y.jsxs)("div",{children:["Are sure you want to delete ",A.name,"? "]}),actions:(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(m.Z,{shape:"square",onClick:J,children:"Cancel"}),(0,y.jsx)(m.Z,{variant:"filled",shape:"square",onClick:function(){return T(A.id)},children:"Delete"})]})})}),(0,y.jsx)(Z.Z,{open:z.open,type:z.type,message:z.message,handleClose:G})]})}},2547:function(e,n,a){a.d(n,{MR:function(){return s},cM:function(){return t},pn:function(){return r}});var r="error",s="success",t="warning"}}]);