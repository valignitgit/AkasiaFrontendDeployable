"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[114],{1134:function(e,n,a){var t=a(3685),s=a(7296),r=a(3712);n.Z=function(e){var n=e.open,a=e.type,c=e.message,i=e.handleClose;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(t.Z,{anchorOrigin:{vertical:"top",horizontal:"center"},open:n,autoHideDuration:3e3,onClose:i,children:(0,r.jsx)(s.Z,{severity:a,sx:{width:"100%"},children:c})})})}},1114:function(e,n,a){a.r(n),a.d(n,{default:function(){return b}});var t=a(1413),s=a(4165),r=a(5861),c=a(9439),i=a(8391),l=a(774),u=a(5536),o=a(2872),d=a(9856),h=a(8743),p=a(2600),x=a(4383),f=a(1884),m=a(1154),j=a(9492),Z=a(1134),y=a(7310),C=a(2547),g=a(8773),v=a(5208),_=a(6999),N=a(461),k=a(3712),w=function(e){var n=e.country_id,a=e.country_name,t=e.handleDelete,s=(0,g.s0)(),r=function(){s("/country/".concat(n))};return(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(p.ZP,{item:!0,xs:12,sm:6,md:6,lg:4,xl:3,children:(0,k.jsxs)(v.Z,{className:"Card",children:[(0,k.jsxs)(_.Z,{className:"card__contentContainer",children:[(0,k.jsxs)(N.Z,{className:"Card__containWrapper",children:[(0,k.jsx)("span",{className:"Card__itemKey",children:"Country Id:"}),(0,k.jsx)("span",{className:"Card__itemValue",children:n})]}),(0,k.jsx)("br",{}),(0,k.jsxs)(N.Z,{className:"Card__containWrapper",children:[(0,k.jsx)("span",{className:"Card__itemKey",children:"Country Name:"}),(0,k.jsx)("span",{className:"Card__itemValue",children:a||"Not Available"})]}),(0,k.jsx)("br",{})]}),(0,k.jsxs)("div",{className:"Card__Actions",children:[(0,k.jsx)(u.rU,{to:"/country/".concat(n),children:(0,k.jsx)(f.Z,{className:"Card__btn",shape:"square",onClick:r,children:"View"})}),(0,k.jsx)(u.rU,{to:"/country/update/".concat(n),children:(0,k.jsx)(f.Z,{className:"Card__btn",shape:"square",onClick:r,children:"Edit"})}),(0,k.jsx)(f.Z,{shape:"square",className:"Card__btn",onClick:function(){return t(n,a)},variant:"filled",children:"Delete"})]})]})})})})},b=function(){var e=(0,l.I0)(),n=(0,l.v9)((function(e){var n;return null===(n=e.country)||void 0===n?void 0:n.data})),a=(0,i.useState)(!1),g=(0,c.Z)(a,2),v=g[0],_=g[1],N=(0,i.useState)({id:"",name:""}),b=(0,c.Z)(N,2),D=b[0],S=b[1],A=(0,i.useState)(n||[]),F=(0,c.Z)(A,2),q=F[0],M=F[1],U=(0,i.useState)(1),E=(0,c.Z)(U,2),I=E[0],L=E[1],V=(0,i.useState)(12),W=(0,c.Z)(V,2),K=W[0],P=W[1],R=(0,i.useState)({open:!1,type:"",message:""}),z=(0,c.Z)(R,2),B=z[0],H=z[1],O=function(e,n){H({open:!0,type:e,message:n})},G=function(){H({open:!1,type:"",message:""})},J=function(){_(!1)};(0,i.useEffect)((function(){e((0,y.v9)()),e((0,y.UW)())}),[e]),(0,i.useEffect)((function(){n&&M(n)}),[n]);var Q=function(e,n){_(!0),S({id:e,name:n})},T=function(){var n=(0,r.Z)((0,s.Z)().mark((function n(a){return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!a){n.next=3;break}return n.next=3,e((0,y.wy)(a)).unwrap().then((function(n){null===n.data&&200===n.status.status&&"Deleted Successfully."===n.status.message?(_(!1),O(C.MR,"Deleted Successfully!"),e((0,y.v9)())):null!==n.data.data||400!==n.data.status.status||"Country Not Deleted Successfully"!==n.data.status.message&&"could not execute statement"!==n.data.status.message||(_(!1),O(C.pn,"Country is already referred!"),e((0,y.v9)()))}));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),X=function(e,n){L(n)},Y=function(e){P(parseInt(e.target.value,10)),L(1)},$=I*K,ee=$-K,ne=Array.isArray(q)?q.slice(ee,$):[];return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(u.rU,{to:"/country/add",children:(0,k.jsx)(f.Z,{variant:"filled",className:"Listing__addButton",children:"Add Country"})}),Array.isArray(q)?(0,k.jsx)("div",{className:"Listing__container",children:(0,k.jsx)(p.ZP,{container:!0,spacing:2,children:ne.map((function(e){return(0,k.jsx)(w,(0,t.Z)((0,t.Z)({},e),{},{handleDelete:Q}),e.country_id)}))})}):(0,k.jsx)(j.Z,{}),(0,k.jsxs)("div",{className:"Listing__paginationContainer",children:[(0,k.jsx)(x.Z,{color:"primary",count:Math.ceil(q.length/K),page:I,onChange:X}),(0,k.jsx)(o.Z,{children:(0,k.jsxs)(d.Z,{value:K,onChange:Y,children:[(0,k.jsx)(h.Z,{value:4,children:"4 per page"}),(0,k.jsx)(h.Z,{value:8,children:"8 per page"}),(0,k.jsx)(h.Z,{value:12,children:"12 per page"})]})})]}),(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(m.Z,{open:v,handleClose:J,title:"Delete",content:(0,k.jsxs)("div",{children:["Are sure you want to delete ",D.name,"? "]}),actions:(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(f.Z,{shape:"square",onClick:J,children:"Cancel"}),(0,k.jsx)(f.Z,{variant:"filled",shape:"square",onClick:function(){return T(D.id)},children:"Delete"})]})})}),(0,k.jsx)(Z.Z,{open:B.open,type:B.type,message:B.message,handleClose:G})]})}},2547:function(e,n,a){a.d(n,{MR:function(){return s},cM:function(){return r},pn:function(){return t}});var t="error",s="success",r="warning"}}]);