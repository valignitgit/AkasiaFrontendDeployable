"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[237],{1134:function(e,n,s){var a=s(3685),t=s(7296),r=s(3712);n.Z=function(e){var n=e.open,s=e.type,c=e.message,i=e.handleClose;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(a.Z,{anchorOrigin:{vertical:"top",horizontal:"center"},open:n,autoHideDuration:3e3,onClose:i,children:(0,r.jsx)(t.Z,{severity:s,sx:{width:"100%"},children:c})})})}},8237:function(e,n,s){s.r(n),s.d(n,{default:function(){return A}});var a=s(1413),t=s(4165),r=s(5861),c=s(9439),i=s(8391),l=s(774),u=s(5536),o=s(2872),d=s(9856),h=s(8743),m=s(2600),p=s(4383),x=s(1884),f=s(1154),j=s(9492),Z=s(1134),g=s(7719),_=s(2547),v=s(5208),C=s(6999),y=s(461),N=s(3712),b=function(e){var n=e.omnibusAccountId,s=e.bankAccountName,a=e.handleDelete;return(0,N.jsx)(N.Fragment,{children:(0,N.jsx)(N.Fragment,{children:(0,N.jsx)(m.ZP,{item:!0,xs:12,sm:6,md:6,lg:4,xl:3,children:(0,N.jsxs)(v.Z,{className:"Card",children:[(0,N.jsxs)(C.Z,{className:"card__contentContainer",children:[(0,N.jsxs)(y.Z,{className:"Card__containWrapper",children:[(0,N.jsx)("span",{className:"Card__itemKey",children:"Omnibus Account ID:"}),(0,N.jsx)("span",{className:"Card__itemValue",children:n})]}),(0,N.jsx)("br",{}),(0,N.jsxs)(y.Z,{className:"Card__containWrapper",children:[(0,N.jsx)("span",{className:"Card__itemKey",children:"Bank Account Name:"}),(0,N.jsx)("span",{className:"Card__itemValue",children:s})]}),(0,N.jsx)("br",{})]}),(0,N.jsxs)("div",{className:"Card__Actions",children:[(0,N.jsx)(u.rU,{to:"/omnibus-account/".concat(n),children:(0,N.jsx)(x.Z,{className:"Card__btn",shape:"square",children:"View"})}),(0,N.jsx)(u.rU,{to:"/omnibus-account/update/".concat(n),children:(0,N.jsx)(x.Z,{className:"Card__btn",shape:"square",children:"Edit"})}),(0,N.jsx)(x.Z,{shape:"square",className:"Card__btn",onClick:function(){return a(n,s)},variant:"filled",children:"Delete"})]})]})})})})},A=function(){var e=(0,l.I0)(),n=(0,l.v9)((function(e){var n;return null===(n=e.omniBusAccount)||void 0===n?void 0:n.data})),s=(0,i.useState)(!1),v=(0,c.Z)(s,2),C=v[0],y=v[1],A=(0,i.useState)({id:"",name:""}),k=(0,c.Z)(A,2),w=k[0],D=k[1],F=(0,i.useState)(n||[]),S=(0,c.Z)(F,2),q=S[0],I=S[1],B=(0,i.useState)(1),M=(0,c.Z)(B,2),O=M[0],U=M[1],E=(0,i.useState)(12),L=(0,c.Z)(E,2),R=L[0],V=L[1],W=(0,i.useState)({open:!1,type:"",message:""}),K=(0,c.Z)(W,2),P=K[0],z=K[1],H=function(e,n){z({open:!0,type:e,message:n})},Y=function(){z({open:!1,type:"",message:""})},G=function(){y(!1)};(0,i.useEffect)((function(){e((0,g.F7)()),e((0,g.UW)())}),[e]),(0,i.useEffect)((function(){n&&I(n)}),[n]);var J=function(e,n){y(!0),D({id:e,name:n})},Q=function(){var n=(0,r.Z)((0,t.Z)().mark((function n(s){return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!s){n.next=3;break}return n.next=3,e((0,g.RY)(s)).unwrap().then((function(n){console.log(n),null===n.data&&200===n.status.status&&"Deleted Successfully."===n.status.message?(console.log("res",n.status),y(!1),H(_.MR,"Deleted Successfully!"),e((0,g.F7)())):null===n.data.data&&400===n.data.status.status&&"could not execute statement"===n.data.status.message&&(y(!1),H(_.pn,"OmniBus Account is already referred!"),e((0,g.F7)()),console.log("not deleted"))}));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),T=function(e,n){U(n)},X=function(e){V(parseInt(e.target.value,10)),U(1)},$=O*R,ee=$-R,ne=Array.isArray(q)?q.slice(ee,$):[];return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(u.rU,{to:"/omnibus-account/add",children:(0,N.jsx)(x.Z,{variant:"filled",className:"Listing__addButton",children:"Add Omnibus Account"})}),Array.isArray(q)?(0,N.jsx)("div",{className:"Listing__container",children:(0,N.jsx)(m.ZP,{container:!0,spacing:2,children:ne.map((function(e){return(0,N.jsx)(b,(0,a.Z)((0,a.Z)({},e),{},{handleDelete:J}),e.omnibusAccountId)}))})}):(0,N.jsx)(j.Z,{}),q.length>0&&(0,N.jsxs)("div",{className:"Listing__paginationContainer",children:[(0,N.jsx)(p.Z,{color:"primary",count:Math.ceil(q.length/R),page:O,onChange:T}),(0,N.jsx)(o.Z,{children:(0,N.jsxs)(d.Z,{value:R,onChange:X,children:[(0,N.jsx)(h.Z,{value:4,children:"4 per page"}),(0,N.jsx)(h.Z,{value:8,children:"8 per page"}),(0,N.jsx)(h.Z,{value:12,children:"12 per page"})]})})]}),(0,N.jsx)(N.Fragment,{children:(0,N.jsx)(f.Z,{open:C,handleClose:G,title:"Delete",content:(0,N.jsxs)("div",{children:["Are you sure you want to delete ",w.name,"? "]}),actions:(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(x.Z,{shape:"square",onClick:G,children:"Cancel"}),(0,N.jsx)(x.Z,{variant:"filled",shape:"square",onClick:function(){return Q(w.id)},children:"Delete"})]})})}),(0,N.jsx)(Z.Z,{open:P.open,type:P.type,message:P.message,handleClose:Y})]})}},2547:function(e,n,s){s.d(n,{MR:function(){return t},cM:function(){return r},pn:function(){return a}});var a="error",t="success",r="warning"}}]);